<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#ec4899">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Vyna Mind Mapping - Buat Peta Pikiran Anda</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="header-title">
                <h1>ğŸŒ¸ Vyna Mind Mapping</h1>
                <button id="toggleInfoBtn" class="btn btn-info-toggle" title="Tampilkan/Sembunyikan Petunjuk">
                    <span class="info-icon">ğŸ’¡</span>
                    <span class="info-text">Petunjuk</span>
                </button>
            </div>
            <div class="controls">
                <button id="addNodeBtn" class="btn btn-primary">
                    <span class="btn-icon">+</span>
                    <span class="btn-text">Tambah Node</span>
                </button>
                <button id="connectBtn" class="btn btn-info">
                    <span class="btn-icon">ğŸ”—</span>
                    <span class="btn-text">Hubungkan</span>
                </button>
                <button id="clearBtn" class="btn btn-secondary">
                    <span class="btn-icon">ğŸ—‘ï¸</span>
                    <span class="btn-text">Hapus Semua</span>
                </button>
                <button id="downloadBtn" class="btn btn-success">
                    <span class="btn-icon">ğŸ“¥</span>
                    <span class="btn-text">Download</span>
                </button>
            </div>
        </header>
        
        <div class="info" id="infoPanel">
            <div class="info-content">
                <p><strong>ğŸ’¡ Cara menggunakan:</strong></p>
                <ul class="desktop-instructions">
                    <li><strong>Tambah Node:</strong> Klik tombol "Tambah Node"</li>
                    <li><strong>Pindahkan Node:</strong> Klik & geser node</li>
                    <li><strong>Edit Node:</strong> Double-click node</li>
                    <li><strong>Hubungkan Node:</strong> Klik "Hubungkan" lalu drag dari node ke node lain</li>
                    <li><strong>Hapus Node:</strong> Pilih node, tekan Delete</li>
                    <li><strong>Hapus Koneksi:</strong> Klik koneksi, tekan Delete atau Ctrl+Click</li>
                    <li><strong>Copy/Paste:</strong> Ctrl+C / Ctrl+V</li>
                    <li><strong>Zoom:</strong> Ctrl+Scroll / gunakan tombol zoom</li>
                    <li><strong>Pan:</strong> Space+Drag / Middle Mouse</li>
                </ul>
                <ul class="mobile-instructions">
                    <li><strong>Tambah Node:</strong> Tap tombol + di pojok kanan bawah</li>
                    <li><strong>Geser/Drag Node:</strong> Tap & geser node langsung dengan jari Anda</li>
                    <li><strong>Edit Node:</strong> Double-tap cepat pada node untuk mengedit teks</li>
                    <li><strong>Hapus Node:</strong> Pilih node â†’ tap tombol Hapus Semua (hati-hati)</li>
                    <li><strong>Hubungkan Node:</strong> Tap tombol Hubungkan â†’ drag dari node ke node lain</li>
                    <li><strong>Zoom:</strong> Pinch dengan 2 jari atau gunakan tombol +/âˆ’ di pojok</li>
                    <li><strong>Pan Canvas:</strong> Geser dengan 1 jari di area kosong</li>
                </ul>
            </div>
        </div>
        
        <div class="canvas-wrapper">
            <div class="zoom-controls">
                <button id="zoomInBtn" class="zoom-btn" title="Zoom In">+</button>
                <button id="zoomOutBtn" class="zoom-btn" title="Zoom Out">âˆ’</button>
                <button id="resetZoomBtn" class="zoom-btn" title="Reset Zoom">âŒ‚</button>
                <button id="fitToScreenBtn" class="zoom-btn" title="Fit to Screen">âŠ</button>
                <span id="zoomLevel" class="zoom-level">100%</span>
            </div>
            
            <div class="canvas-container" id="canvasContainer">
                <div class="canvas-scroll" id="canvasScroll">
                    <svg id="svgCanvas" width="5000" height="5000">
                        <defs>
                            <marker id="arrowhead" markerWidth="10" markerHeight="10" 
                                    refX="9" refY="3" orient="auto">
                                <polygon points="0 0, 10 3, 0 6" fill="#ec4899" />
                            </marker>
                            <pattern id="grid" width="50" height="50" patternUnits="userSpaceOnUse">
                                <path d="M 50 0 L 0 0 0 50" fill="none" stroke="#e0e0e0" stroke-width="1"/>
                            </pattern>
                        </defs>
                        <rect width="100%" height="100%" fill="url(#grid)"/>
                        <g id="canvasGroup" transform="translate(2500, 2500)">
                            <g id="connections"></g>
                            <g id="nodes"></g>
                        </g>
                    </svg>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Floating Action Button for Mobile -->
    <button id="fabAddNode" class="fab" title="Tambah Node">
        <span class="fab-icon">+</span>
    </button>
    
    <div id="editModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Edit Node</h2>
            <input type="text" id="nodeTextInput" placeholder="Masukkan teks node">
            <div class="modal-buttons">
                <button id="saveNodeBtn" class="btn btn-primary">Simpan</button>
                <button id="cancelNodeBtn" class="btn btn-secondary">Batal</button>
            </div>
        </div>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
